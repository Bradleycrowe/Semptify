<header class="app-header">
  <div class="brand">
    <a href="/" aria-label="Semptify Home">Semptify</a>
  </div>
  <nav aria-label="Primary">
  <a href="/">{{ _('Home') }}</a>
  <a href="/resources/home_search">{{ _('Home Search') }}</a>
  <a href="/resources/programs">{{ _('Housing Help') }}</a>
    <a href="/about">{{ _('About') }}</a>
    <a href="/features">{{ _('Features') }}</a>
    <a href="/how_it_works">{{ _('How it works') }}</a>
    <a href="/resources">{{ _('Resources') }}</a>
    <a href="/vault">{{ _('Vault') }}</a>
    <span class="badge" title="{{ _('Requires registration token') }}">{{ _('Token') }}</span>
    <a href="/copilot">{{ _('Copilot') }}</a>
    <a href="/register">{{ _('Register') }}</a>
    <a href="/notary">{{ _('Virtual Notary') }}</a>
    <a href="/legal_notary">{{ _('Legal Notary') }}</a>
    <a href="/court_clerk">{{ _('Court Clerk') }}</a>
    <a href="/admin">{{ _('Admin') }}</a>
    <a href="/admin/status">{{ _('Admin Status') }}</a>
    <a href="/admin/grants">{{ _('Admin Grants') }}</a>
    <a href="/admin/outreach">{{ _('Admin Outreach') }}</a>
    <a href="/admin/sbom">{{ _('Admin SBOM') }}</a>
    <a href="/release_history">{{ _('Release History') }}</a>
  </nav>
  <div class="header-actions">
    <span class="lang-switch" aria-label="Language">
      {% for lang in LANG_SUPPORTED %}
        <a href="/i18n/set?lang={{ lang }}" class="{{ 'active' if current_lang==lang else '' }}">{{ lang.upper() }}</a>{% if not loop.last %}<span class="sep">Â·</span>{% endif %}
      {% endfor %}
    </span>
    <button type="button" class="theme-toggle" id="themeToggle" title="Toggle theme">Theme</button>
  </div>
</header>
<script>
  (function(){
    try{
      const root = document.documentElement;
      const btn = document.getElementById('themeToggle');
      const stored = localStorage.getItem('theme');
      if(stored){ root.setAttribute('data-theme', stored); }
      if(btn){
        btn.addEventListener('click', function(){
          const current = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
          root.setAttribute('data-theme', current);
          if(current === 'light') localStorage.removeItem('theme'); else localStorage.setItem('theme', current);
        });
      }
    }catch(e){ /* no-op */ }
  })();
</script>
