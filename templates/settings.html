{% extends "base_auth.html" %}

{% block title %}Settings - Semptify{% endblock %}

{% block content %}
<div class="settings-container" style="max-width: 800px; margin: 40px auto; padding: 20px;">
    
    <h1 style="color: #6c63ff; margin-bottom: 30px;">âš™ï¸ Account Settings</h1>
    
    <!-- Account Information -->
    <div class="settings-section" style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <h2 style="color: #333; margin-bottom: 20px;">ğŸ“‹ Account Information</h2>
        
        <div style="margin-bottom: 15px;">
            <strong>Token (ID):</strong>
            <code style="background: #f5f5f5; padding: 8px 12px; border-radius: 4px; display: inline-block; margin-left: 10px;">
                {{ token_masked }}
            </code>
            <button onclick="copyToken()" style="margin-left: 10px; padding: 6px 12px; background: #6c63ff; color: white; border: none; border-radius: 4px; cursor: pointer;">
                ğŸ“‹ Copy Full Token
            </button>
        </div>
        
        <div style="margin-bottom: 15px;">
            <strong>Storage Provider:</strong>
            <span style="margin-left: 10px; padding: 6px 12px; background: #e8f5e9; color: #2e7d32; border-radius: 4px;">
                {% if storage_provider == 'google_drive' %}
                    ğŸ”µ Google Drive
                {% elif storage_provider == 'dropbox' %}
                    ğŸ”· Dropbox
                {% elif storage_provider == 'local' %}
                    ğŸ’» Local Storage
                {% else %}
                    â“ {{ storage_provider }}
                {% endif %}
            </span>
        </div>
        
        <div style="margin-bottom: 15px;">
            <strong>Account Created:</strong>
            <span style="margin-left: 10px;">{{ created_at }}</span>
        </div>
    </div>
    
    <!-- Quick Links -->
    <div class="settings-section" style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <h2 style="color: #333; margin-bottom: 20px;">ğŸ”— Quick Links</h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
            <a href="{{ vault_url }}" style="padding: 15px; background: #f5f5f5; border-radius: 6px; text-decoration: none; color: #333; text-align: center; transition: background 0.3s;">
                ğŸ“ Access Vault
            </a>
            
            {% if timeline_url %}
            <a href="{{ timeline_url }}" style="padding: 15px; background: #f5f5f5; border-radius: 6px; text-decoration: none; color: #333; text-align: center; transition: background 0.3s;">
                ğŸ“… View Timeline
            </a>
            {% endif %}
            
            <a href="/file-complaint" style="padding: 15px; background: #f5f5f5; border-radius: 6px; text-decoration: none; color: #333; text-align: center; transition: background 0.3s;">
                âš–ï¸ File Complaint
            </a>
            
            <a href="/" style="padding: 15px; background: #f5f5f5; border-radius: 6px; text-decoration: none; color: #333; text-align: center; transition: background 0.3s;">
                ğŸ  Dashboard
            </a>
        </div>
    </div>
    
    <!-- Storage Management -->
    <div class="settings-section" style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <h2 style="color: #333; margin-bottom: 20px;">ğŸ’¾ Storage Management</h2>
        
        <p style="margin-bottom: 15px; color: #666;">
            Your documents are stored in <strong>YOUR {{ storage_provider }}</strong>. Semptify does not store your files on our servers.
        </p>
        
        <form method="POST" action="/settings/change-storage" style="margin-top: 20px;">
            <input type="hidden" name="user_token" value="{{ token }}">
            <button type="submit" style="padding: 10px 20px; background: #ff9800; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 16px;">
                ğŸ”„ Change Storage Provider
            </button>
        </form>
        
        <p style="margin-top: 15px; font-size: 14px; color: #999;">
            Note: Changing provider will require re-authorization and data migration.
        </p>
    </div>
    
    <!-- Privacy & Security -->
    <div class="settings-section" style="background: white; padding: 25px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <h2 style="color: #333; margin-bottom: 20px;">ğŸ”’ Privacy & Security</h2>
        
        <ul style="line-height: 1.8; color: #666;">
            <li>âœ… Your token is hashed (SHA-256) on our servers</li>
            <li>âœ… Your documents stay in YOUR cloud storage</li>
            <li>âœ… Semptify never sees your files</li>
            <li>âœ… You can revoke access anytime via {{ storage_provider }} settings</li>
            <li>âš ï¸ Keep your token secure - it cannot be recovered if lost</li>
        </ul>
    </div>
    
    <!-- Documentation -->
    <div class="settings-section" style="background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <h2 style="color: #333; margin-bottom: 20px;">ğŸ“š Documentation</h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
            <a href="/static/USER_GUIDE.md" target="_blank" style="padding: 15px; background: #e3f2fd; border-radius: 6px; text-decoration: none; color: #1976d2; text-align: center;">
                ğŸ“– User Guide
            </a>
            
            <a href="/static/README.md" target="_blank" style="padding: 15px; background: #f3e5f5; border-radius: 6px; text-decoration: none; color: #7b1fa2; text-align: center;">
                ğŸ“ README
            </a>
            
            <a href="https://github.com/Bradleycrowe/SemptifyGUI" target="_blank" style="padding: 15px; background: #fce4ec; border-radius: 6px; text-decoration: none; color: #c2185b; text-align: center;">
                ğŸ™ GitHub
            </a>
        </div>
    </div>
    
</div>

<script>
function copyToken() {
    const token = '{{ token }}';
    navigator.clipboard.writeText(token).then(() => {
        alert('âœ… Token copied to clipboard!');
    }).catch(() => {
        prompt('Copy your token:', token);
    });
}

// Add hover effect to links
document.querySelectorAll('a[style*="background: #f5f5f5"]').forEach(link => {
    link.addEventListener('mouseenter', () => {
        link.style.background = '#e0e0e0';
    });
    link.addEventListener('mouseleave', () => {
        link.style.background = '#f5f5f5';
    });
});
</script>

{% endblock %}
