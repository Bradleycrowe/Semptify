{% set authed = session.get('qualified') %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Semptify{% endblock %}</title>
  <style>
    :root { --brand:#667eea; --brandDark:#4f46e5; --bg:#0f172a; }
    * { box-sizing:border-box; }
    body { margin:0; font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif; background:#f6f7fb; color:#111827; }
    .topbar { position:sticky; top:0; z-index:50; background:#fff; border-bottom:1px solid #e5e7eb; }
    .wrap { max-width:1100px; margin:0 auto; padding:12px 20px; display:flex; align-items:center; gap:16px; }
    .brand { font-weight:800; letter-spacing:-0.4px; color:var(--brandDark); font-size:1.1rem; }
    nav { margin-left:auto; display:flex; gap:12px; font-size:0.95rem; }
    nav a { text-decoration:none; color:#374151; padding:8px 12px; border-radius:8px; font-weight:600; }
    nav a:hover { background:#eef2ff; color:var(--brandDark); }
    .cta { background:var(--brand); color:#fff !important; }
    main { max-width:1100px; margin:20px auto; padding:0 20px 40px; }
    footer { text-align:center; color:#6b7280; font-size:0.85rem; padding:24px; }
    /* Responsive breakpoints */
    @media (max-width: 640px) {
      nav { gap:8px; }
      nav a { padding:8px 10px; font-size:0.9rem; }
      .wrap { padding:10px 14px; }
      main { margin:14px auto; padding:0 14px 28px; }
    }
    @media (min-width: 1280px) { main { max-width: 1280px; } }
    @media (min-width: 1536px) { main { max-width: 1400px; } }
    @media (min-width: 1920px) { main { max-width: 1600px; } }
    /* Presentation mode */
    body.present main { max-width: 1800px; }
    body.present .wrap { max-width: 1800px; }
    body.present { font-size: 18px; }
  </style>
  {% block head %}{% endblock %}
</head>
<body>
  <header class="topbar">
    <div class="wrap">
      <a href="/" class="brand">Semptify</a>
      <nav>
        {% if authed %}
          <a href="/dashboard">Home</a>
          <a href="/housing_journey">Tenancy</a>
          <a href="/pages/research">Library</a>
          <a href="/vault">Documents</a>
          <a href="/settings">Help</a>
        {% else %}
          <a href="/storage-setup" class="cta">Get Started</a>
          <a href="/vault-login">I have a token</a>
        {% endif %}
        <a href="#" id="togglePresent" title="Presentation mode">Presentation</a>
      </nav>
    </div>
  </header>
  <main>
    {% block content %}{% endblock %}
  </main>
  <footer>
    Â© {{ datetime.utcnow().year }} Semptify
  </footer>
  <script>
    (function(){
      const key = 'present-mode';
      const apply = (on) => {
        document.body.classList.toggle('present', !!on);
        const btn = document.getElementById('togglePresent');
        if (btn) btn.classList.toggle('cta', !!on);
      };
      try { apply(localStorage.getItem(key)==='1'); } catch(e){}
      document.addEventListener('click', (e) => {
        const t = e.target;
        if (t && t.id === 'togglePresent') { e.preventDefault();
          const on = !document.body.classList.contains('present');
          apply(on);
          try { localStorage.setItem(key, on ? '1' : '0'); } catch(e){}
        }
      });
    })();
  </script>

  <footer style="background: #1f2937; color: #9ca3af; padding: 32px 20px; margin-top: 60px;">
    <style>
      @keyframes footerTicker {
        0% { transform: translateX(100%); }
        100% { transform: translateX(-100%); }
      }
    </style>
    <div style="max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 32px;">
      <div>
        <h3 style="color: white; font-size: 1.1rem; margin-bottom: 12px;">Semptify</h3>
        <p style="font-size: 0.9rem; line-height: 1.6;">Empowering tenants with evidence, guidance, and legal tools to protect their rights.</p>
      </div>
      <div>
        <h4 style="color: white; font-size: 0.95rem; margin-bottom: 12px;">Resources</h4>
        <ul style="list-style: none; padding: 0; font-size: 0.9rem; line-height: 2;">
          <li><a href="/pages/research" style="color: #9ca3af; text-decoration: none;">Legal Library</a></li>
          <li><a href="/housing_journey" style="color: #9ca3af; text-decoration: none;">Tenant Journey</a></li>
          <li><a href="/housing-programs" style="color: #9ca3af; text-decoration: none;">Housing Programs</a></li>
        </ul>
      </div>
      <div>
        <h4 style="color: white; font-size: 0.95rem; margin-bottom: 12px;">Tools</h4>
        <ul style="list-style: none; padding: 0; font-size: 0.9rem; line-height: 2;">
          <li><a href="/vault" style="color: #9ca3af; text-decoration: none;">Evidence Vault</a></li>
          <li><a href="/timeline" style="color: #9ca3af; text-decoration: none;">Timeline Builder</a></li>
          <li><a href="/file-complaint" style="color: #9ca3af; text-decoration: none;">File Complaint</a></li>
        </ul>
      </div>
      <div>
        <h4 style="color: white; font-size: 0.95rem; margin-bottom: 12px;">Support</h4>
        <ul style="list-style: none; padding: 0; font-size: 0.9rem; line-height: 2;">
          <li><a href="/settings" style="color: #9ca3af; text-decoration: none;">Settings</a></li>
          <li><a href="/help" style="color: #9ca3af; text-decoration: none;">Help Center</a></li>
          <li><a href="/privacy" style="color: #9ca3af; text-decoration: none;">Privacy Policy</a></li>
        </ul>
      </div>
    </div>
    <div style="max-width: 1200px; margin: 24px auto 0; padding-top: 24px; border-top: 1px solid #374151; text-align: center; font-size: 0.85rem;">
      <p>&copy; {{ datetime.utcnow().year }} Semptify. Built to protect tenant rights. Not legal advice.</p>
    </div>
    <div style="max-width: 1200px; margin: 16px auto 0; border-top: 1px dashed #374151; padding-top: 12px; overflow: hidden;">
      <div style="white-space: nowrap;">
        <span style="display: inline-block; padding-left: 100%; animation: footerTicker 25s linear infinite; color: #fde68a; font-size: 0.85rem; letter-spacing: 0.03em;">
          LEGAL DISCLAIMER: Semptify provides informational resources only and is not a law firm. For legal advice, consult a licensed attorney in your jurisdiction. Use of Semptify does not create an attorney-client relationship.
        </span>
      </div>
    </div>
  </footer>
</body>
</html>



