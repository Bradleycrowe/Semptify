<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Semptify Architecture</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font:14px system-ui;background:#0f172a;color:#e2e8f0;padding:20px}.container{max-width:1400px;margin:0 auto}h1{background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:20px;border-radius:8px;margin-bottom:20px}.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:30px}.stat-card{background:#1e293b;padding:15px;border-radius:6px;border-left:4px solid #667eea}.stat-card h3{color:#94a3b8;font-size:12px;margin-bottom:5px}.stat-card .num{font-size:24px;font-weight:bold;color:#667eea}.layer{margin-bottom:30px}.layer h2{background:#1e293b;padding:12px;border-radius:6px;cursor:pointer;border-left:4px solid #667eea;margin-bottom:15px}.systems{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:15px}.system{background:#1e293b;padding:15px;border-radius:6px;border:2px solid #334155;transition:all .3s}.system:hover{border-color:#667eea;transform:translateY(-2px)}.system h3{color:#667eea;margin-bottom:8px;display:flex;align-items:center;gap:8px}.num-badge{background:#667eea;color:white;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px}.system .file{color:#94a3b8;font-size:11px;margin-bottom:8px;font-family:monospace}.system p{font-size:13px;line-height:1.5;margin-bottom:10px}.system ul{list-style:none;padding-left:0}.system li{padding:4px 0 4px 16px;position:relative;font-size:12px;color:#cbd5e1}.system li:before{content:"‚ñ∏";position:absolute;left:0;color:#667eea}</style></head><body><div class="container"><h1>üèóÔ∏è Semptify Architecture - Site-Wide Systems</h1><div class="stats"><div class="stat-card"><h3>TOTAL SYSTEMS</h3><div class="num">18</div></div><div class="stat-card"><h3>BLUEPRINTS</h3><div class="num">30+</div></div><div class="stat-card"><h3>API ENDPOINTS</h3><div class="num">8</div></div><div class="stat-card"><h3>LINES OF CODE</h3><div class="num">2,800+</div></div></div><div class="layer"><h2>üèóÔ∏è Foundation Layer (7 Systems)</h2><div class="systems"><div class="system"><h3><span class="num-badge">1</span>Flask Core</h3><div class="file">Semptify.py</div><p>Main application orchestrator, blueprint registration, middleware</p><ul><li>2000+ lines</li><li>30+ blueprints</li><li>Request lifecycle</li></ul></div><div class="system"><h3><span class="num-badge">2</span>Security</h3><div class="file">security.py</div><p>Token validation, CSRF, rate limiting, break-glass access</p><ul><li>Admin tokens (SHA-256)</li><li>User tokens (12-digit)</li><li>Rate limiting</li></ul></div><div class="system"><h3><span class="num-badge">3</span>Database</h3><div class="file">user_database.py</div><p>SQLite with user auth, tokens, timeline events</p><ul><li>3 tables</li><li>Thread-safe</li><li>Auto migrations</li></ul></div><div class="system"><h3><span class="num-badge">4</span>User ID</h3><div class="file">Multiple modules</div><p>Multi-layer identification: user IDs, tokens, document IDs, session IDs</p><ul><li>5 ID types</li><li>Hierarchical</li><li>Privacy-first</li></ul></div><div class="system"><h3><span class="num-badge">5</span>Request Tracking</h3><div class="file">Middleware</div><p>X-Request-Id header propagation, logging correlation</p><ul><li>UUID generation</li><li>Log correlation</li><li>Audit trail</li></ul></div><div class="system"><h3><span class="num-badge">6</span>Metrics</h3><div class="file">security.py</div><p>/metrics Prometheus endpoint, /readyz health checks</p><ul><li>Request counters</li><li>Latency (p50-p99)</li><li>Health status</li></ul></div><div class="system"><h3><span class="num-badge">7</span>Storage</h3><div class="file">storage_manager.py</div><p>Unified interface: local, R2, Google Drive</p><ul><li>3 backends</li><li>Transparent switching</li><li>Fallback chain</li></ul></div></div></div><div class="layer"><h2>üß† Intelligence Layer (6 Systems)</h2><div class="systems"><div class="system"><h3><span class="num-badge">8</span>Context Data‚Ñ¢</h3><div class="file">context_module.py</div><p>Unified intelligence hub, 5 API endpoints, tenant profile aggregation</p><ul><li>Evidence synthesis</li><li>Legal context</li><li>Next actions</li></ul></div><div class="system"><h3><span class="num-badge">9</span>Document Intelligence</h3><div class="file">document_intelligence.py</div><p>Metadata extraction, SHA-256 certification, type detection</p><ul><li>Auto-tagging</li><li>Hash verification</li><li>Evidence scoring</li></ul></div><div class="system"><h3><span class="num-badge">10</span>Perspective Reasoning</h3><div class="file">perspective_reasoning.py</div><p>4-angle analysis: tenant, landlord, legal, factual (-100 to +100)</p><ul><li>Bias detection</li><li>Strength scoring</li><li>Recommendation</li></ul></div><div class="system"><h3><span class="num-badge">11</span>Complaint Filing</h3><div class="file">complaint_filing_context_integration.py</div><p>Auto-fill 60%, evidence ranking 90-95%, PDF court packets</p><ul><li>Legal templates</li><li>Evidence linking</li><li>Court formatting</li></ul></div><div class="system"><h3><span class="num-badge">12</span>Learning Engine</h3><div class="file">learning_adapter.py</div><p>Adaptive patterns, success tracking, user feedback integration</p><ul><li>Pattern recognition</li><li>Success metrics</li><li>Continuous learning</li></ul></div><div class="system"><h3><span class="num-badge">13</span>AI Integration</h3><div class="file">ollama_routes.py</div><p>OpenAI, Azure, Ollama support - provider-agnostic interface</p><ul><li>3 providers</li><li>Fallback chain</li><li>Prompt templates</li></ul></div></div></div><div class="layer"><h2>üì¶ Organization Layer (3 Systems)</h2><div class="systems"><div class="system"><h3><span class="num-badge">14</span>Blueprint System</h3><div class="file">Semptify.py</div><p>30+ modular features, dynamic registration, try/except safety</p><ul><li>Feature isolation</li><li>Hot reloading</li><li>Graceful failures</li></ul></div><div class="system"><h3><span class="num-badge">15</span>Template System</h3><div class="file">templates/</div><p>Jinja2 with 50+ templates, 26.8 KB CSS, responsive design</p><ul><li>Base inheritance</li><li>Component reuse</li><li>Mobile-first</li></ul></div><div class="system"><h3><span class="num-badge">16</span>Environment Config</h3><div class="file">config.env.template</div><p>Secrets management, 12-factor app, per-environment settings</p><ul><li>Dev/prod modes</li><li>Secret rotation</li><li>Validation</li></ul></div></div></div><div class="layer"><h2>‚öôÔ∏è Operations Layer (2 Systems)</h2><div class="systems"><div class="system"><h3><span class="num-badge">17</span>Backup System</h3><div class="file">database_backup.py</div><p>Automated backups, SHA-256 verification, 30-day retention</p><ul><li>Scheduled backups</li><li>Integrity checks</li><li>Auto-cleanup</li></ul></div><div class="system"><h3><span class="num-badge">18</span>Production Logging</h3><div class="file">logging_config.py</div><p>3 log types (app/error/security), JSON format, daily rotation</p><ul><li>Structured logs</li><li>Log levels</li><li>Size rotation</li></ul></div></div></div></div></body></html>
